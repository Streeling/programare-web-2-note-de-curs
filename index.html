<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.8.dev">
<meta name="author" content="Radu Dumbrăveanu">
<title>Programare web 2: Note de curs</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt,.quoteblock .quoteblock{margin:0 0 1.25em;padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body class="article">
<div id="header">
<h1>Programare web 2: Note de curs</h1>
<div class="details">
<span id="author" class="author">Radu Dumbrăveanu</span><br>
<span id="email" class="email"><a href="mailto:rdumbraveanu@amsoft-group.com">rdumbraveanu@amsoft-group.com</a></span><br>
<span id="revnumber">version 1.0,</span>
<span id="revdate">2021-09-03</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#truecurs-1-introducere">Curs 1: Introducere</a></li>
<li><a href="#truecurs-2-bean-uri">Curs 2: Bean-uri</a></li>
<li><a href="#truecurs-3-spring-mvc">Curs 3: Spring MVC</a></li>
<li><a href="#truecurs-4-spring-mvc">Curs 4: Spring MVC</a></li>
<li><a href="#truecurs-5-spring-data">Curs 5: Spring Data</a></li>
<li><a href="#truecurs-6-spring-data">Curs 6: Spring Data</a></li>
<li><a href="#truecurs-7-teste">Curs 7: Teste</a></li>
<li><a href="#truecurs-8-bean-uri">Curs 8: Bean-uri</a></li>
<li><a href="#truecurs-9-spring-mvc">Curs 9: Spring MVC</a></li>
<li><a href="#truecurs-10-spring-mvc">Curs 10: Spring MVC</a></li>
<li><a href="#truecurs-11-spring-mvc">Curs 11: Spring MVC</a></li>
<li><a href="#truecurs-12-spring-data">Curs 12: Spring Data</a></li>
<li><a href="#truecurs-13-spring-security">Curs 13: Spring Security</a></li>
<li><a href="#truecurs-14-rest">Curs 14: REST</a></li>
<li><a href="#truecurs-15-scheduling-caching">Curs 15: Scheduling, Caching</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="truecurs-1-introducere"><a class="anchor" href="#truecurs-1-introducere"></a>Curs 1: Introducere</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ce este o aplicație web? Indiferent de tehnologia utilizată, care sunt caracteristicile specifice (minime) ale unei aplicații web?
Definiții sunt (de exemplu
<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnotedef_1" title="View footnote.">1</a>]</sup>
<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnotedef_2" title="View footnote.">2</a>]</sup>
<sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnotedef_3" title="View footnote.">3</a>]</sup>).
Nu sunt sigur dacă există una concisă (completă) și clară pentru începători.
În plus, definițiile deseori au o formulări „nenaturale” și respectiv cu timpul se uită.
Să încercăm să evidențiem componentele principale ale unei aplicații web.</p>
</div>
<div class="paragraph">
<p>Care sunt avantajele familiei de aplicații web în raport cu alte tipuri de aplicații?</p>
</div>
<div class="paragraph">
<p>Ce tehnologii au fost folosite pentru aplicațiile web? Care sunt cele mai populare acum?
Care au fost cele mai populare la început? Ați auzit de ColdFusion? Când a apărut web-ul?</p>
</div>
<div class="paragraph">
<p>Una din cele mai populare tehnologii pentru elaborarea de aplicații web este Java.
Și cu toate că nici la întrebarea „ce este Java?” nu putem veni cu un răspuns concis (complet) și clar pentru începători, vom începe cu faptul că Java este un libaj de programare.
Java este limbaj de programare orientat pe obiecte independent de sistem (en. <em>cross-platform</em>).
Orientarea pe obiect înseamnă că obiectele reprezintă un concept important pentru limbaj și însăși limbajul e construit în jurul conceptului de obiect.
Țin minte, la USARB era un curs pentru studenții din anul I, „Structuri de date date și algoritmi”.
E o denumire foarte bună privitor la programare deoarece în programare sunt doua concepte importante: date și acțiunile care le facem cu aceste date.
În multe limbaje de programare aceste concepte (datele și operațiile) sunt explicit separate.
În limbajele orientate pe obiect, obiectele reprezintă niște abstracții/construcții în care aceste noțiuni (date și acțiunile) sunt unite.
Partea ce ține date dintr-un obiect poartă denumirea de atribut (pl. atribute) sau câmp (pl. câmpuri), iar partea ce ține de acțiuni - metodă (pl. metode).</p>
</div>
<div class="paragraph">
<p>Limbajul de programare este un limbaj pentru a comunica cu calculatorul.
Pentru a automatiza soluționarea unor probleme sau simplu pentru distracție (jocurile de calculator).
Dar limbajul nu este suficient în comunicarea cu cineva. Cu alte cuvinte daca ai învățat doar Java nu înseamnă că poți eifcient să comunici cu calculatorul.
Pentru a o face eficient trebuie să știi cum „gândește și acționeaza” calculatorul.
De exemplu dacă expresia "I change my mind" o traducem cuvânt cu cuvânt nu vom ajunge la rezultatul scontat.
Nu orice combinație de litere din alfabetul latin este un cuvânt în română. Nu orice combinație de cuvinte din română este o propoziție în română.
Nu orice combinație de comenzi din limbajul Java este un program Java.
În descrierea unui algoritm în Java noi trebuie să știm să ne punem în locul calculatorului. Două componente sunt importante în comunicare: limba și interlocutorul.
Pentru a utiliza un limbaj de programare eficient nu e suficient doar cunoștința limbajului ci și felului cum „gândește și acționeaza” calculatorul.
Iar în Java calculatorul gândește în termeni de obiecte.</p>
</div>
<div class="paragraph">
<p>Să ne întoarcem la obiecte și „orientat pe obiect”.
Termenul de „orientat pe obiect” a fost prima data introdus de Alan Kay (
<sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnotedef_4" title="View footnote.">4</a>]</sup>,
<sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnotedef_5" title="View footnote.">5</a>]</sup>
). Și înțelegerea lui privind obiectele este urmatoarea:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>I thought of objects being like biological cells and/or individual
computers on a network, only able to communicate with messages (so
messaging came at the very beginning&#8201;&#8212;&#8201;it took a while to see how to
do messaging in a programming language efficiently enough to be
useful).</p>
</div>
<div class="paragraph">
<p>&#8230;&#8203;</p>
</div>
<div class="paragraph">
<p>OOP to me means only messaging, local retention and protection and
hiding of state-process, and extreme late-binding of all things. It
can be done in Smalltalk and in LISP. There are possibly other
systems in which this is possible, but I&#8217;m not aware of them.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Alan Kay<br>
<cite>http://userpage.fu-berlin.de/~ram/pub/pub_jf47ht81Ht/doc_kay_oop_de</cite>
</div>
</div>
<div class="paragraph">
<p>O analiză înteresantă a ceea ce înseamnă „obiect” și „orientat pe obiect” poate figăsită și în
<a href="https://wiki.c2.com/?AlanKaysDefinitionOfObjectOriented">Alan Kays Definition Of Object Oriented</a> de pe C2 Wiki.
Pentru orice eventualitate există și definiția modernă, standardizată:</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>object-oriented</strong></p>
</div>
<div class="paragraph">
<p>pertaining to a technique or a programming language that supports objects, classes, and inheritance</p>
</div>
<div class="paragraph">
<p>Note 1 to entry: Some authorities list the following requirements for object-oriented programming: information hiding or encapsulation, data abstraction, message passing, polymorphism, dynamic binding, and inheritance.</p>
</div>
<div class="paragraph">
<p>Note 2 to entry: object-oriented : term and definition standardized by ISO/IEC [ISO/IEC 2382-15:1999].</p>
</div>
<div class="paragraph">
<p>Note 3 to entry: 15.09.13 (2382)</p>
</div>
</blockquote>
<div class="attribution">
&#8212; ISO/IEC 2382-15<br>
<cite>https://www.iso.org/obp/ui/#iso:std:iso-iec:2382:ed-1:v1:en</cite>
</div>
</div>
<div class="paragraph">
<p>În limbajele de programare orinetate pe obiect în funcție de cum sunt definite și construite obiectele poate să apară conceptul de clasă.</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p><strong>class</strong></p>
</div>
<div class="paragraph">
<p>&lt;programming languages&gt; template for objects that defines the internal structure and the set of operations for instances of such objects</p>
</div>
<div class="paragraph">
<p>Note 1 to entry: In object-oriented programming, classes are comparable to data types in some programming languages, such as C and Pascal.</p>
</div>
<div class="paragraph">
<p>Note 2 to entry: class: term and definition standardized by ISO/IEC [ISO/IEC 2382-15:1999].</p>
</div>
<div class="paragraph">
<p>Note 3 to entry: 15.09.09 (2382)</p>
</div>
</blockquote>
<div class="attribution">
&#8212; ISO/IEC 2382-15<br>
<cite>https://www.iso.org/obp/ui/#iso:std:iso-iec:2382:ed-1:v1:en</cite>
</div>
</div>
<div class="paragraph">
<p>Pentru terecerea în revistă conceptelor de bază a limbajelor orientate pe obiect recomand:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>proiectul Stack Overflow Documentation, care e defunct dar poate fi accesat pe
<a href="http://web.archive.org/web/20161207222656/http://stackoverflow.com/documentation/java/topics">Wayback Machine</a> sau</p>
</li>
<li>
<p><a href="https://docs.oracle.com/javase/tutorial/java/index.html">Oracle The Java™ Tutorials</a></p>
</li>
<li>
<p><a href="http://elf.cs.pub.ro/poo/laboratoare/java-basics">Java Basics</a></p>
</li>
<li>
<p><a href="http://discipline.elcom.pub.ro/isw/poo/2006_Laborator/Index%20of%20Laborator%20POO.htm">POO</a>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Iar însăsi conceptele ar fi:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>clasă, câmpuri (variabile membru), metode (funcții membru)</p>
<div class="paragraph">
<p><a href="https://docs.oracle.com/javase/tutorial/java/concepts/class.html" class="bare">https://docs.oracle.com/javase/tutorial/java/concepts/class.html</a>
<a href="https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html" class="bare">https://docs.oracle.com/javase/tutorial/java/javaOO/classes.html</a>
<a href="http://elf.cs.pub.ro/poo/laboratoare/java-basics" class="bare">http://elf.cs.pub.ro/poo/laboratoare/java-basics</a>
<a href="http://discipline.elcom.pub.ro/isw/poo/2006_Laborator/2006_POO_Lab_2_Main_v01.htm#" class="bare">http://discipline.elcom.pub.ro/isw/poo/2006_Laborator/2006_POO_Lab_2_Main_v01.htm#</a><em>2.2._Obiecte_si_clase</em>(Java)</p>
</div>
</li>
<li>
<p>obiecte, constructori</p>
<div class="paragraph">
<p><a href="http://web.archive.org/web/20170307223916/http://stackoverflow.com/documentation/java/114/classes-and-objects" class="bare">http://web.archive.org/web/20170307223916/http://stackoverflow.com/documentation/java/114/classes-and-objects</a>
<a href="https://docs.oracle.com/javase/tutorial/java/concepts/object.html" class="bare">https://docs.oracle.com/javase/tutorial/java/concepts/object.html</a>
<a href="https://docs.oracle.com/javase/tutorial/java/javaOO/objects.html" class="bare">https://docs.oracle.com/javase/tutorial/java/javaOO/objects.html</a>
<a href="http://elf.cs.pub.ro/poo/laboratoare/constructori-referinte" class="bare">http://elf.cs.pub.ro/poo/laboratoare/constructori-referinte</a>
<a href="http://discipline.elcom.pub.ro/isw/poo/2006_Laborator/2006_POO_Lab_2_Main_v01.htm#_2.2.2._Crearea_obiectelor" class="bare">http://discipline.elcom.pub.ro/isw/poo/2006_Laborator/2006_POO_Lab_2_Main_v01.htm#_2.2.2._Crearea_obiectelor</a></p>
</div>
</li>
<li>
<p>modificatori de access</p>
<div class="paragraph">
<p><a href="http://web.archive.org/web/20170122160059/http://stackoverflow.com/documentation/java/134/visibility-controlling-access-to-members-of-a-class" class="bare">http://web.archive.org/web/20170122160059/http://stackoverflow.com/documentation/java/134/visibility-controlling-access-to-members-of-a-class</a></p>
</div>
</li>
<li>
<p>getere și setere (<a href="http://web.archive.org/web/20170305061315/http://stackoverflow.com/documentation/java/3560/getters-and-setters" class="bare">http://web.archive.org/web/20170305061315/http://stackoverflow.com/documentation/java/3560/getters-and-setters</a>)</p>
<div class="paragraph">
<p><a href="http://web.archive.org/web/20170305061315/http://stackoverflow.com/documentation/java/3560/getters-and-setters" class="bare">http://web.archive.org/web/20170305061315/http://stackoverflow.com/documentation/java/3560/getters-and-setters</a></p>
</div>
</li>
<li>
<p>moștenire</p>
<div class="paragraph">
<p><a href="http://web.archive.org/web/20170104110843/http://stackoverflow.com/documentation/java/87/inheritance" class="bare">http://web.archive.org/web/20170104110843/http://stackoverflow.com/documentation/java/87/inheritance</a>
<a href="https://docs.oracle.com/javase/tutorial/java/concepts/inheritance.html" class="bare">https://docs.oracle.com/javase/tutorial/java/concepts/inheritance.html</a>
<a href="https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html" class="bare">https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html</a>
<a href="http://elf.cs.pub.ro/poo/laboratoare/agregare-mostenire" class="bare">http://elf.cs.pub.ro/poo/laboratoare/agregare-mostenire</a></p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>In Java orice cod sursă este definit în cadrul unei clase. Iar clasele sunt grupate în pachete.</p>
</div>
<div class="paragraph">
<p>Pentru construirea de aplicații web vom folosi nu doar Java ci și un framework și anume Spring Framework.
În prezent majoritatea soluțiilor se implementeaza folosind biblioteci și framework-uri.
Cu alte cuvinte refolosim lucruri deja implementate.
Framework-ul e o experiență verificată.</p>
</div>
<div class="paragraph">
<p>Putem genera o simplă aplicație web utilizând Spring prin intermediul instrumentului: <a href="https://start.spring.io/">Spring Initializr</a>.
În cadrul acestui proiect vom crea un controller cu o metodă, analog acestui exemplu <a href="https://spring.io/guides/gs/serving-web-content/" class="bare">https://spring.io/guides/gs/serving-web-content/</a> urmând pașii din acest exemplu
<a href="https://github.com/Streeling/sample-web-application" class="bare">https://github.com/Streeling/sample-web-application</a>.
Vom folosi mediul integrat IntelliJ IDEA Community (sunt și altele: Eclipse, NetBeans, Atom, VS Code &#8230;&#8203;).
Pe situl <a href="https://spring.io/guides/">Spring Guides</a> sunt două ghiduri pentru <a href="https://spring.io/guides/gs/intellij-idea/">utilizarea IntelliJ IDEA</a> și <a href="https://spring.io/guides/gs/guides-with-vscode/">VS Code</a>.
Conceptele aferent sunt: adnotări (en. <em>annotations</em>, <a href="https://github.com/Streeling/sample-web-application/blob/main/Annotations.adoc" class="bare">https://github.com/Streeling/sample-web-application/blob/main/Annotations.adoc</a>),
punct de intrare pentru o cerere client (en. <em>endpoint</em>), URL, query string. În aplicația generată vom un REST controler:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@RestController
public class GreetingController {

  @GetMapping("/greeting")
  public String greeting() {
    return "Hello, World!";
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Modificăm <code>GreetingController</code> într-o versiune mai generală:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@RestController
public class GreetingController {

  @GetMapping("/greeting")
  public String greeting(@requestParam String name) {
    return "Hello, " + name + "!";
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Stilul de programare recomandat pentru întreg cursul e cel folosit de Google, <a href="https://google.github.io/styleguide/javaguide.html">Google Java Style Guide</a>.
Pe proiectul lor de Github există și fișier XML ce conține definițiile stilului pentru IntelliJ IDEA.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Privitor la concatenarea <code>"Hello, " + name + "!"</code> în Java sunt următoarele alternative remarcabile:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>String.format("Hello, %s!", name)</code></p>
</li>
<li>
<p><code>FormatMessage.format("Hello, {0}!", name)</code></p>
</li>
<li>
<p>Folosind <code>StringBuilder</code>:</p>
<div class="listingblock">
<div class="content">
<pre>StringBuilder builder = new StringBuilder();
builder.append("Hello, ");
builder.append(name);
builder.append("!");

return builder.toString();</pre>
</div>
</div>
<div class="paragraph">
<p>În particular dacă se urmărește concatenarea șirurilor separate printr-un delimitator anume putem considera:</p>
</div>
</li>
<li>
<p><code>StringJoiner</code> (Java 8+):</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">StringJoiner joine = new StringJoiner(",", "", "!");
joiner.add("Hello");
joiner.add(name);

return joiner.toString();</code></pre>
</div>
</div>
</li>
</ol>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Vom finaliza lecția cu noțiunea de server de aplicații.</p>
</div>
<div class="paragraph">
<p>Activarea erorilor <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.error.whitelabel.enabled" class="bare">https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.server.server.error.whitelabel.enabled</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-2-bean-uri"><a class="anchor" href="#truecurs-2-bean-uri"></a>Curs 2: Bean-uri</h2>
<div class="sectionbody">
<div class="paragraph">
<p>În exemplul de la cursul precedent am creat un controller șî în el un punct de intrare pentru o cerere de la client.
Am pornit aplicația și am văzut că a funcționat exact cum am vrut.
Întrebare: cine a creat obiectul de tip <code>GreetingController</code>?
Cunoaștem că Java operează cu obiecte, iar noi am definit doar clasa pentru controller fără a crea explicit un obiect de tipul acelui controller.
Întrucât aplicația a lucrat așa cum am vrut, reise că cineva totuși a creat acel obiect. Cumva în spate, după cortină ușurându-ne lucrul.</p>
</div>
<div class="paragraph">
<p>Raspuns: Obiectul a fost creat de Spring, mai exact de către Spring IoC container (en. <em>Inversion of Control</em>). Dar acesta este un exemplu particular.
Din care nu e clar cu ce scop l-a creat, doar ca să ne scuteasca de câteva linii de cod?
Este important aici să începem cu noțiunea de dependință (pentru mai multe exemple, vezi <a href="http://web.archive.org/web/20170816205456/https://stackoverflow.com/documentation/spring/7067/spring-core">StackOverflow Documentation|Spring Core</a>).
Dependința e un termen general. O bibliotecă (cu o sumedenie de clase) la fel e o dependință.
Dare e important să înțelegem că putem folosi dependință și atunci când vorbim de obiecte. Obiecte care au funcțional de care au nevoie alte obiecte.
În cazul bibliotecilor, de acestea se ocupă Maven. Iar în cazul obiectelor Java, se ocupa Spring IoC container.
Și aceste obiecte se numesc bean-uri (Spring bean-uri).</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>In Spring, the objects that form the backbone of your application and that are managed by the Spring IoC container are called beans.
A bean is an object that is instantiated, assembled, and managed by a Spring IoC container. Otherwise, a bean is simply one of many objects in your application.
Beans, and the dependencies among them, are reflected in the configuration metadata used by a container.</p>
</div>
</blockquote>
<div class="attribution">
&#8212; Spring Reference Documentation<br>
<cite>https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#spring-core</cite>
</div>
</div>
<div class="paragraph">
<p>Deci din definiție reise că noi decidem care obiecte vor fi bean-uri. Vom vedea mai departe că aceste obiecte trebuie să verifice și careva proprietăți.
În Spring avem trei modalități de a defini (configura) bean-urile:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Prin XML (en. <em>XML configuration</em>), de exemplu:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;bean id="myBean" class="com.demo.MyBean"/&gt;</code></pre>
</div>
</div>
</li>
<li>
<p>Prin adnotări (en. <em>annotation-based configuration</em>, vezi <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-metadata">Configuration Metadata</a>), de exemplu:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@RestController
public class GreetingController {
  // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lista tuturor adnotărilor de bază le putem găsi în <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-stereotype-annotations" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-stereotype-annotations</a> sau în pachetul <code>org.springframework.stereotype</code>.</p>
</div>
</li>
<li>
<p>Prin Java (en. <em>Java-based configuration</em>, vezi vezi <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-metadata">Configuration Metadata</a>), de exemplu:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Configuration
publi class AppConfig {

  @Bean
  public MyBean myBean() {
    return new MyBean();
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lista tuturor adnotărilor este: <code>@Configuration</code>, <code>@Bean</code>, <code>@Import</code> și <code>@DependsOn</code>.</p>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>Pe lângă faptul că Spring IoC container creează bean-urile acesta mai îndeplinește încă o funcție, și anume rezolvarea/injectarea dependințelor.
Să consideram următorul exemplu:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@Service
public class GreetingService {

  public String createMsg(String name) {
    return "Hello, " + name + "!";
  }
}</pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre>@RestController
public class GreetingController {

  private final GreetingService greetingService;

  @Autowired
  public GreetingController(GreetingService greetingService) {
    this.greetingService = greetingService;
  }

  public String greeting(@RequestParam String name) {
    return greetingService.createMsg(name);
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Din exemplu se observă că am marcat prima clasa cu <code>@Service</code>, iar a doua cu <code>@RestController</code> ambele sunt adnotări pentru a specifica bean-uri.
Grație adnotării <code>@Autowired</code> de pe constructorul clasei <code>GreetingController</code>, Spring a rezolvat dependița de tip <code>GreetingService</code> și a injectat-o prin parametrul <code>greetingService</code>.
Această abordare se numește injectarea prin constructorul clasei (en. <em>Constructor Injection</em>).
În general injectarea unei dependințe se poate face în trei moduri:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Prin constructorul clasei (pentru mai multe amănunte, vedeți
<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-constructor-injection">Constructor-based Dependency Injection</a>)</p>
</li>
<li>
<p>Printr-o metodă a clasei (en. <em>Setter Injection</em>, pentru mai multe amănunte, vedeți
<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-setter-injection">Setter-based Dependency Injection</a>)</p>
</li>
<li>
<p>Printr-o interfață de injectare (en. <em>Interface Injection</em>, nu este implement în Spring, pentru mai multe amănunte, vedeți
<a href="https://web.archive.org/web/20110714152709/http://martinfowler.com/articles/injection.html#InterfaceInjection">Inversion of Control Containers and the Dependency Injection pattern</a>)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Modificam Exemplu 1 în Exemplu 2 pentru a prezenta injectarea printr-o metodă a clasei:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@RestController
public class GreetingController {

  private GreetingService greetingService;

  public String greeting(@RequestParam String name) {
    return greetingService.createMsg(name);
  }

  @Autowired
  public void setGreetingService(GreetingService greetingService) {
    this.greetingService = greetingService;
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Care sunt avantajele și dezavantajele modurilor de injectare?</p>
</div>
<div class="quoteblock">
<blockquote>
<div class="paragraph">
<p>The Spring team generally advocates constructor injection&#8230;&#8203;</p>
</div>
</blockquote>
<div class="attribution">
&#8212; https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-setter-injection
</div>
</div>
<div class="paragraph">
<p>În particular Spring oferă câteva moduri specifice de injectare.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@RestController
public class GreetingController {

  @Autowired
  private GreetingService greetingService;

  public String greeting(@RequestParam String name) {
    return greetingService.createMsg(name);
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Adnotarea <code>@Autowired</code> este specifică doar pentru Spring. Ca alternativă există două adnotări din Java EE care sunt implementate în Spring: <code>@Inject</code> (JSR-330) și <code>@Resource</code> (JSR-250).
Să vedem Anumite lmitari ale standardului: <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-standard-annotations-limitations">diferențele</a>,
cum lucrează fiecare dintre ele:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>@Autowired</code>, selectează bean-ul în funcție de tip (en. <em>by-type</em>), dacă există mai multe bean-uri de același tip,
atunci putem utiliza adnotarea în pereche cu <code>@Qualifier</code> pentru a specifica numele bean-ului care trebuie selectat.</p>
</li>
<li>
<p><code>@Inject</code> are un comportament identic cu <code>@Autowired</code>, nu are însă câmpul <code>required</code>, deci dacă nu va fi găsit niciun bean potrivit vom avea excepție,
în cazul <code>@Autowired</code> putem specifica <code>@Autowired(required = false)</code> și daca bean-ul lipsește IoC va pune <code>null</code> și nu va pica.
La fel dacă sunt mai multe bean-uri de același tip putem utiliza în pereche cu <code>@Named</code>, deci <code>@Named</code> e analoagă cu <code>@Qualifier</code>.</p>
</li>
<li>
<p><code>@Resource</code>, selectează dupa nume, apoi dacă nu găsește încearcă după tip.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Reieșind din cele de mai sus Spring recomandă (<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-autowired-annotation-qualifiers" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-autowired-annotation-qualifiers</a>),
atunci când se dorește injectarea unui bean dupa nume, să se folosească <code>@Resource</code>.</p>
</div>
<div class="paragraph">
<p>Dar acum să ne oprim la Spring IoC container. Ce este IoC? Inversion of Control. Inversarea Controlului.
Fluxul controlului nu e în „mâinile” programatorului/aplicației (adică nu aplicația construiește obiectele) ci invers, în „mânile” framework-ului/containerului.
Injectarea dependenințelor se numește DI = Dependecy Injection. Analogii:
<a href="https://stackoverflow.com/questions/424457/does-anyone-have-a-good-analogy-for-dependency-injection" class="bare">https://stackoverflow.com/questions/424457/does-anyone-have-a-good-analogy-for-dependency-injection</a>,
<a href="http://goodheads.io/2016/03/16/dependency-injection-explained-plain-english/" class="bare">http://goodheads.io/2016/03/16/dependency-injection-explained-plain-english/</a></p>
</div>
<div class="paragraph">
<p>Noi am putea vizuliza IoC Container:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>@RestController
public class GreetingController {

  @Autowired
  private ApplicationContext context;

  public String greeting(@RequestParam String name) {
    return context.getBean(SomeClass.class);
  }
}</pre>
</div>
</div>
<div class="paragraph">
<p>Recomand două articole despre IoC de Ke Jin: <a href="https://web.archive.org/web/20110715095758/http://www.pocomatic.com/docs/whitepapers/ioc/" class="bare">https://web.archive.org/web/20110715095758/http://www.pocomatic.com/docs/whitepapers/ioc/</a>,
<a href="https://web.archive.org/web/20110715101402/http://www.pocomatic.com/docs/whitepapers/ioc-vs-di/" class="bare">https://web.archive.org/web/20110715101402/http://www.pocomatic.com/docs/whitepapers/ioc-vs-di/</a></p>
</div>
<div class="paragraph">
<p>Orice bean are un identificator (nume). Dacă avem nevoie de mai multe identificatoare acest lucru se poate obține prin aliasuri.
Exemplu de specificare a numelui:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Service("myBeanName")
public class GreetingService {</code></pre>
</div>
</div>
<div class="paragraph">
<p>dacă nu specificăm numele, atunci containerul îi generează un nume unic în baza numelui clasei. Folosind <em>camel case</em>.
Cu o excepție dacă numele începe cu cel puțin două majuscule atunci registrul nu este schimbat în denumirea bean-ului.
Acest lucru poate fi verificat deoarece se folsoesțe metoda <code>decapitalize()</code> a clasei <code>java.beans.Introspector</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">System.out.println(Introspector.decapitalize("MyBeanClassName"));
System.out.println(Introspector.decapitalize("MYBeanClassName"));</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>myBeanName - camel case</p>
</div>
<div class="paragraph">
<p>MyBeanName - pascal case</p>
</div>
<div class="paragraph">
<p>my_bean_name - snake case</p>
</div>
<div class="paragraph">
<p>my-bean-name - kebab case</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Pentru alias-uri</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Service("myBeanName, myBeanName2")
public class GreetingService {</code></pre>
</div>
</div>
<div class="paragraph">
<p>În cazul când bean-urile sunt construite prin <code>@Bean</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Bean(name = "name")

@Bean({"name1", "name2"})</code></pre>
</div>
</div>
<div class="paragraph">
<p>iar dacă nu e specificat se ia din denumirea metodei.</p>
</div>
<div class="paragraph">
<p>Injectarea listelor:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Component
public class SomeBean {
  private List&lt;String&gt; aList;

  public SomeBean(List&lt;String&gt; aList) {
    this.aList = aList;
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Configuration
public class AppConfig {
  @Bean
  public List&lt;String&gt; aList() {
    List&lt;String&gt; list = new ArrayList();
	list.add("One");
	list.add("Tow");
	return list;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Sau Spring ar putea să ne strângă singur o listă:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class A {
  private String name;

  public A(String name) {
    this.name = name;
  }

  //...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Configuration
public class AppConfig() {

  @Bean
  //@Order(3)
  public A first() {
    return new A("fist");
  }

  @Bean
  //@Order(2)
  @Qualifier("list2")
  public A second() {
    return new A("second");
  }

  @Bean
  //@Order(1)
  @Qualifier("list2")
  public A third() {
    return new A("third");
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Component
public class B {
  private List&lt;A&gt; as;
  private List&lt;A&gt; list2;

  public B(List&lt;A&gt; as, @Qualifier("list2") List&lt;A&gt; list2) {
    this.as = as;
	this.list2 = list2;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Injectarea valorilor definite în fișiere properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Configuration
@PropertySource("classpath:foo.properties")
public class AppConfig {
  //...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Value( "${foo.bar}" )
private String fooBar;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Injectarea listelor din fișiere properties:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="properties" class="language-properties hljs">list={'1','2','3'}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">public class A {
  private List&lt;String&gt; list;

  public A(@Value("#{${list}}") List&lt;String&gt; list) {
    this.list = list;
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Injectarea dicționarelor (en. <em>map</em>), comasare dicționarelor.</p>
</div>
<div class="paragraph">
<p>Întrebare: câte obiecte a creat IoC container în baza clasei controller? Eu presupun că doar unul. În caz că am dreptate - de ce doar unul?
Ați auzit de Singletone? Putem controla acest proces?</p>
</div>
<div class="paragraph">
<p>În Spring putem controla durata de viață a bean-urilor (en. <em>bean scope</em>). Spring framework menține șase tipuri (pentru mai multe amănunte, vezi
<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-scopes">Bean Scopes</a>):</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>singleton, (implicit) doar un bean pentru fiecare definiție de bean pentru fiecare IoC container</p>
</li>
<li>
<p>prototype, un bean nou la fiecare necesitate pentru fiecare definiție de bean</p>
</li>
<li>
<p>request, un bean nou la fiecare cerere client pentru fiecare definiție de bean (un fel de singleton în raport cu o cerere client)</p>
</li>
<li>
<p>session, un bean nou la fiecare sesiune</p>
</li>
<li>
<p>application, un singur bean pe toată durata de viață a apliației, indiferent de numărul de IoC cotainere</p>
</li>
<li>
<p>websocket, un bean nou la fiecare websocket</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Vom exemplifica aceste tipuri prin:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Scope("singleton") // care e default
@Service
public class CounterService {

  private long counter;

  public long count() {
    return ++counter;
  }
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@RestController
public class CounterController() {

  // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Să încercăm cu request pe controller:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Scope("request")
@RestController
public class CounterController() {

  // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Să încercăm cu prototype:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Scope("prototype")
@Service
public class CounterService {
  // ...
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Utilizăm ptototype pentru bean-urile care trebuie să aibă stare.</p>
</div>
<div class="paragraph">
<p>Sinonime:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>@Scope("singleton")</code> = <code>@Singleton</code></p>
</li>
<li>
<p><code>@Scope("request")</code> = <code>@RequestScope</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Exerciții:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Fie următoarele bean-uri:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Configuration
public class SomeBeans {

  @Bean
  @Order(1)
  public Integer one() {
    return new Integer(1);
  }

  @Bean
  @Order(2)
  public Integer two() {
    return new Integer(2);
  }

  @Bean
  @Order(3)
  public Integer three() {
    return new Integer(3);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>scrieți un REST controler astfel încât:</p>
</div>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>să fie injectate bean-urile <code>one</code> și <code>two</code>, iar controlerul să afișeze suma acestora</p>
</li>
<li>
<p>să fie injectate bean-urile <code>one</code>, <code>two</code> și <code>three</code> într-o listă, iar controlerul să afișeze suma elementelor listei</p>
</li>
<li>
<p>pentru exercițiul precedent mai adugați un bean <code>four</code>, controlerul nu trebuie să fie modificat, iar rezultatul să fie fie tot suma elementelor listei</p>
</li>
<li>
<p>să fie injectate bean-urile „pare” într-o cheie ale unui dicționar (en, <em>map</em>), iar cele impare în altă cheie</p>
</li>
<li>
<p>să fie injectate bean-urile într-o listă în ordine descrescătoare</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-3-spring-mvc"><a class="anchor" href="#truecurs-3-spring-mvc"></a>Curs 3: Spring MVC</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vom considera proiectul <a href="https://github.com/spring-projects/spring-mvc-showcase">Spring MVC Showcase</a>
în care sunt exemplificate majoritatea capabilităților Spring utilizate în elaborarea aplicațiilor web.
După cum e precizat în <a href="https://github.com/spring-projects/spring-mvc-showcase#to-run-the-application">documentație</a>, pentru a rula proiectului va fi nevoie de executat comanda:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="shell" class="language-shell hljs">mvn jetty:run</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dacă Maven nu este instalat, ne putem folosi de cel integrat în IntelliJ IDEA.
Pentru aceasta:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Accesează <span class="menuseq"><b class="menu">View</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="submenu">Tool Windows</b>&#160;<i class="fa fa-angle-right caret"></i> <b class="menuitem">Maven</b></span></p>
</li>
<li>
<p>În panoul nou apărut expandează nodul rădăcină <strong>spring-mvc-showcase</strong></p>
</li>
<li>
<p>Expandează nodul <strong>plugins</strong>, apoi nodul <strong>jetty</strong></p>
</li>
<li>
<p>Dublu clic pe nodul <strong>jetty:run</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>La final, accesează în navigatorul web <a href="http://localhost:8080/spring-mvc-showcase/" class="bare">http://localhost:8080/spring-mvc-showcase/</a>.</p>
</div>
<div class="paragraph">
<p>Spring MVC Showcase conține foarte multe exemple, vom considera doar cele din pachetele:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>org.springframework.samples.mvc.simple</code></p>
</li>
<li>
<p><code>org.springframework.samples.mvc.mapping</code></p>
</li>
<li>
<p><code>org.springframework.samples.mvc.data</code></p>
</li>
<li>
<p><code>org.springframework.samples.mvc.views</code>.</p>
</li>
<li>
<p><code>org.springframework.samples.mvc.redirect</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Pentru clasele din <code>org.springframework.samples.mvc.simple</code> sunt remarcabile următoarele fragmente de cod:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@RestController</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marchează clasa ca fiind un rest controler.
Aceasta presupune că rezultatul întors de fiecare metodă a controlerului este scris direct în răspunsul la cererea HTTP.
De fapt <code>@RestController</code> e o presurtare de la <code>@Controller</code> + <code>@ResponseBody</code>, în particular <code>@ResponseBody</code> este adnotarea care are
drept efect scrierea direct în răspunsul HTTP a rezultatului întors de metodă.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@GetMapping("/simple")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Realizează maparea între metoda controlerului și cererea HTTP-GET către adresa <em>/simple</em>. În particular,
<code>@GetMapping("/simple")</code> e o prescurtare de la <code>@RequestMapping(path = "/simple", method = RequestMethod.GET)</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@GetMapping(path="/simple/revisited", headers="Accept=text/plain")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Realizează maparea între metoda controlerului și cererea HTTP-GET către adresa <em>/simple/revisited</em>.
În plus specifică antetul de cerere <em>Accept</em>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Pentru clasele din <code>org.springframework.samples.mvc.mapping</code> sunt remarcabile următoarele fragmente de cod:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@GetMapping("/mapping/path/*")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează controlerul sau metoda la o cerere HTTP-GET care începe cu <em>/mapping/path</em> și are cel mult trei nivele.
De exemplu, <em>/mapping/path/anysubpath</em> va apela metoda, iar /mapping/path/anysubpath/anysubsubpath - nu (deoarece are patru nivele).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(HttpServletRequest request)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spring va injecta obiectul de tip <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html">HttpServletRequest</a>.
Acest obiect conține detalii specifice cerererii HTTP care a declanșat apelul metodei <code>&lt;metodaControler&gt;</code>.
În plus Spring poate sa ne injecteze și obiectul-pereche, de tip
<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletResponse.html">HttpServletResponse</a>, prin intermediul căruia putem
scrie în răspunsul HTTP. Pentru mai multe amănunte privind tipurile de parametri care pot fi injectate de Spring în metoda
unui controler, vezi <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments">Method Arguments</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@GetMapping(path="/mapping/parameter", params="foo")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează metoda la o cerere HTTP-GET către adresa <em>/mapping/parameter</em> care în mod obligatoriu conține parametrul <code>foo</code>.
De exemplu, <em>/mapping/parameter?foo=123&amp;bar=qwerty</em>. În particular, am putea specifică si valoarea obligatorie pentru parametru,
de exemplu <code>params="foo=123"</code>, în acest caz <em>/mapping/parameter?foo=123</em> se va potrivi definiției mapării, iar
<em>/mapping/parameter?foo=456</em> - nu.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@GetMapping(path="/mapping/parameter", params="!foo")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează metoda la o cerere HTTP-GET către adresa <em>/mapping/parameter</em> care în mod obligatoriu nu conține parametrul <code>foo</code>.
De exemplu, <em>/mapping/parameter?bar=qwerty</em></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@GetMapping(path="/mapping/header", headers="FooHeader=foo")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează metoda la o cerere HTTP-GET către adresa <em>/mapping/parameter</em> care în mod obligatoriu conține antetul de cerere <code>FooHeader</code>
cu valoarea <code>foo</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@GetMapping(path="/mapping/header", headers="!FooHeader")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează metoda la o cerere HTTP-GET către adresa <em>/mapping/parameter</em> care în mod obligatoriu nu conține antetul de cerere <code>FooHeader</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@PostMapping(path="/mapping/consumes", consumes=MediaType.APPLICATION_JSON_VALUE)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică că corpul cererii HTTP trebuie să fie în format JSON.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@GetMapping(path="/mapping/produces", produces=MediaType.APPLICATION_JSON_VALUE)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică tipul MIME al răspunsului să fie JSON.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@GetMapping(path="/mapping/produces", produces=MediaType.APPLICATION_XML_VALUE)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică tipul MIME al răspunsului să fie XML.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>public String byConsumes(@RequestBody JavaBean javaBean)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Corpul cererii HTTP este agregat într-un obiect de tip <code>JavaBean</code>.
Pentru mai multe amănunte privind tipurile de parametri care pot fi injectați de Spring în metoda
unui controler, vezi <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments">Method Arguments</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@RequestMapping("/class-mapping/*")</code> pe clasă</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapare controler la cereri HTTP care încep cu <em>/class-mapping</em> și au cel mult o componentă pe nivelul următor.
În rezultat <em>/class-mapping</em> devine prefix pentru toate metodele din controler mapate la cereri HTTP.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Pentru clasele din <code>org.springframework.samples.mvc.data</code> sunt remarcabile următoarele fragmente de cod:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(@RequestParam String foo)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează parametrul <code>foo</code> la parametrul cu același nume din <em>query string</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(@MatrixVariable String foo)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează parametrul <code>foo</code> la un parametru cu același nume dintr-un nivel al URL-ului cererii cu condiția ca parametri sunt separați prin cracaterul <em>;</em>.
De exemplu, în <em>/path/foo=123;bar=qwerty</em>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(@MatrixVariable(name="foo", pathVar="path1") String foo1)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează parametrul <code>foo</code> la un parametru cu același nume din nivel <code>path1</code> al URL-ului cererii.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(@RequestHeader String Accept)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează parametrul <code>Accept</code> la antetul de cerere <em>Accept</em>. De ce nu în <em>camel case</em>?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(@CookieValue String openid_provider)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează parametrul <code>openid_provider</code> la <em>cookie-ul</em> <em>openid_provider</em>. De ce nu în <em>camel case</em>?</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(@RequestBody String body)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează parametrul <code>body</code> la corpul cererii HTTP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(HttpEntity&lt;String&gt; entity)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spring va injecta obiectul de tip <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/http/HttpEntity.html">HttpEntity</a>.
Acest obiect conține detalii specifice cerererii HTTP (cu corpul de tip <code>String</code>) care a declanșat apelul metodei &lt;metodaControler&gt;.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(Principal user)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează parametrul <code>user</code> la utilizatorul curent. În particular, dacă nu este organizat mecanizmul de autentificare,
utilizatorul curent va fi utilizatorul anonim.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(Locale locale)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează parametrul <code>locale</code> la localizarea curentă.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(HttpSession session)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează parametrul <code>session</code> la sesiunea curentă.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Pentru clasele din <code>org.springframework.samples.mvc.views</code> sunt remarcabile următoarele fragmente de cod:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Controller</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marchează clasa ca fiind controler.
Aceasta înseamnă că metodele din acestă clasă care sunt mapate la cereri HTTP nu vor scrie direct în răspunsul HTTP
ci vor participa în procesul de rezoluție a șabloanelor HTML (en. <em>views</em>) care la rândul lor vor fi folosite pentru construirea răspunsului HTTP.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@RequestMapping("/views/*")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează controlerul sau metoda la o cerere HTTP-GET care începe cu <em>/views</em> și are cel mult două nivele.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(Model model)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Obiectul de tip <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/ui/Model.html">Model</a>
care va fi disponibil atât în controler cât și în șabloanele HTML. Acest obiect conține colecția de câmpuri setate în controler și
disponibile în <em>view</em> în procesul de generare a HTML-ului.
Pentru mai multe amănunte privint tipurile de parametri care pot fi injectate de Spring în metoda
unui controler, vezi <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-arguments">Method Arguments</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>String &lt;metodaControler&gt;()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">De regulă metodă unui controler întoarce o valoare de tip <code>String</code>: numele fișierului (fără extensie) ce coține șablonul HTML.
Aceste fișiere sunt localizate în <strong>src/webapp/WEB-INF/views</strong>. In general, dosarul unde sunt localizate sabloanele HTML
poate fi modificat folosind <a href="https://spring.io/blog/2011/01/04/green-beans-getting-started-with-spring-mvc/">InternalResourceViewResolver</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>void &lt;metodaControler&gt;()</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">O metodă poate să întoarcă <code>void</code> în acest caz numele metodei este utilizat pentru rezoluția fișierului <em>view</em>.
De exemplue dac metoda se numește <code>usingRequestToViewNameTranslator</code>, atunci va fi căutat fișierul <code>src/webapp/WEB-INF/view/usingRequestToViewNameTranslator</code>.
În general, tipul de intoarcere a metodelor
din controler nu este limitat la <code>String</code> și <code>void</code>.
De exemplu, am putea obține același efect întorcând un
obiect de tipul <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/ModelAndView.html">ModelAndView</a>.
Pentru mai multe amănunte privitor la tipruile care pot fi întoarse de metodele din controler, vezi
<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web.html#mvc-ann-return-types">Return Values</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@GetMapping("pathVariables/{foo}/{fruit}")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapare metodă controler la o cerere HTTP către adresă cu două componente dinamice.
Aceste componente vor fi accesibile prin variabilele de cale (en. <em>path varaibles</em>) <code>foo</code> și <code>fruit</code>.
Mai mult aceste componenete vor fi automat înregistrate pe model.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler&gt;(@Valid JavaBean javaBean)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Parametrii de pe cerere sunt agregați în obiectului de tip <code>JavaBean</code> (en. <em>binding</em>). Mai mult, acesta va fi validat.</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Pe langa dosarele unde sunt localizate sabloanele HTML, exista un set predefinit de dosare, de unde serverul poate
lua continut static, vezi <a href="https://spring.io/blog/2013/12/19/serving-static-web-content-with-spring-boot">Serving Static Web Content with Spring Boot</a></p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Pentru clasele din <code>org.springframework.samples.mvc.redirect</code> sunt remarcabile următoarele fragmente de cod:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>return "redirect:&lt;url&gt;"</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică &lt;url&gt; pentru redirecționare.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Exerciții:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Scrie un REST controler, iar în el câte o metodă mapată la o cerere HTTP astfel încât:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>metoda să afișeze URL-ul aplicației relativ la adresa serverului</p>
</li>
<li>
<p>metoda să afișeze URL-ul metodei mapate relativ la adresa aplicației</p>
</li>
<li>
<p>metoda să afișeze URL-ul absolut al cererii HTTP</p>
</li>
<li>
<p>metoda să afișeze partea adresei din cerere fără protocol și șirul de perechi nume=valoare (en. <em>query string</em>)</p>
</li>
<li>
<p>metoda să afișeze șirul de perechi nume=valoare (en. <em>query string</em>) a cererii HTTP.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">HINT</dt>
<dd>
<p>vezi metodele <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getContextPath--">HttpServletRequest.getContextPath()</a>,
<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getQueryString--">HttpServletRequest.getQueryString()</a>,
<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getRequestURI--">HttpServletRequest.getRequestURI()</a>,
<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getRequestURL--">HttpServletRequest.getRequestURL()</a>,
<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getServletPath--">HttpServletRequest.getServletPath()</a></p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Scrie un REST controler, iar în el câte o metodă mapată la o cerere HTTP astfel încât:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>metoda să afișeze lista de <a href="https://www.byte.ro/byte98-02/wm.html"><em>cookie</em>-uri</a></p>
</li>
<li>
<p>metoda să afișeze lista de antete cerere</p>
</li>
<li>
<p>metoda să afișeze lista de parametri din <em>query string</em>.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">HINT</dt>
<dd>
<p>vezi metodele <a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getCookies--">HttpServletRequest.getCookies()</a>,
<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getHeaderNames--">HttpServletRequest.getHeaderNames()</a>,
<a href="https://docs.oracle.com/javaee/7/api/javax/servlet/http/HttpServletRequest.html#getHeader-java.lang.String-">HttpServletRequest.getHeader()</a></p>
</dd>
</dl>
</div>
</li>
</ol>
</div>
</li>
<li>
<p>Scrie un rest controler, iar in acest controler:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>o metoda <code>add()</code> care primește doi parametri de tip întreg si intoarce suma acestora</p>
</li>
<li>
<p>o metoda <code>concat()</code> care primește doi parametri de tip <code>String</code> și întoarce valoarea concatenată</p>
</li>
<li>
<p>daca ai folosit adnotarea <code>@GetMapping</code> rescrie controlerul să foloseasca doar <code>@RequestMapping</code> și invers</p>
</li>
<li>
<p>rescrie metoda <code>add()</code> astfel incat sș primeasca un al iii-lea parametru care va specifica tipul operației:
adunare sau înmulțire, respectiv metoda va fi redenumita în <code>op()</code></p>
</li>
<li>
<p>sparge metoda <code>op()</code> în două metode specialziate: <code>add()</code> și <code>mul()</code> folosind opțiunea <code>parameters</code> din
adnotările <code>@GetMapping</code>/<code>@RequestMapping</code>.</p>
</li>
<li>
<p>declară o clasa <code>Operation</code> cu doua câmpuri întregi și rescrie metodele <code>add()</code> și <code>mul()</code> astfel incât
parametrii sa fie agregați într-un obiect de tip <code>Operation</code> (<code>@RequestBody</code>)</p>
</li>
<li>
<p>rescrie metoda <code>concat()</code> astfel incât să accepte cereri către adrese de orice nivel și metoda să concateneze
toate nivelele (<code>HttpServletRequest.html#getRequestURI()</code> și <em>split</em> după <code>/</code>).</p>
</li>
</ol>
</div>
</li>
<li>
<p>Scrie un controler care va simula un navigator de fișiere. Acest controler trebuie să întoarcă <code>true</code> pentru
dosarele existente. Nivele adresei le vom privi drept dosare. Dosarul de la un nivel este subdosar pentru
nivelul precedent și este parinte pentru nivelul următor. De exemplu, in <em>/a/b/c</em>, <em>b</em> este subdosar pentru
<em>a</em> și în același timp este părinte pentru <em>c</em>. Scrie câte o metodă care să confirm€ existența dosarului care
respecta condițiile:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p><em>c</em> și <em>d</em> sunt dosare radăcină</p>
</li>
<li>
<p><em>x</em> este subdosarul lui <em>c</em></p>
</li>
<li>
<p><em>y</em> este subdosarul oricarui dosar care se conține în <em>d</em></p>
</li>
</ol>
</div>
</li>
<li>
<p>Creeaza un controler adnotat cu <code>@Controller</code> care să conțină două metode, o metoda întoarce o lista de string-uri care
sunt folosite pentru a umple un șablon HTML, iar altă metodă întoarce aceeași listă însă în format JSON.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-4-spring-mvc"><a class="anchor" href="#truecurs-4-spring-mvc"></a>Curs 4: Spring MVC</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vom considera urmatoarele pachete din <a href="https://github.com/spring-projects/spring-mvc-showcase">Spring MVC Showcase</a>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>org.springframework.samples.mvc.validation</code></p>
</li>
<li>
<p><code>org.springframework.samples.mvc.form</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Pentru clasele din <code>org.springframework.samples.mvc.validation</code> sunt remarcabile următoarele fragmente de cod:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@NotNull</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică că câmpul trebuie să nu fie <code>null</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Max(5)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică că câmpul trebuie să aibă cel mult lunigimea 5.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Future</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică că câmpul trebuie să fie o dată din viitor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@DateTimeFormat(iso=ISO.DATE)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică că câmpul trebuie să fie dată formatată corepsunzător.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaControler(BindingResult result)&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spring va injecta obiectul <code>BindingResult</code> care reprezintă rezultatul validării.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Pentru clasele din <code>org.springframework.samples.mvc.form</code> sunt remarcabile următoarele fragmente de cod:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Past</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică că câmpul trebuie să fie dată din trecut.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@MaskFormat("(<mark><mark>) </mark></mark>-<mark>#</mark>#")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică că câmpul trebuie să fie un șir de carcatere de forma corespunzătoare.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@NumberFormat(pattern="$<mark><mark>,</mark></mark>.00")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică că câmpul este un număr de formatul corespunzător.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@NumberFormat(style=Style.PERCENT)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică că câmpul este o vloare procentuală.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@SessionAttributes("formBean")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează un câmp la un atribut de pe sesiune.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@ModelAttribute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează un parametru sau câmp la un câmp din model.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>&lt;metodaController&gt;(RedirectAttributes redirectAttrs</code>)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spring va injevta acest obiect care e folosit atunci când dorim control mai minuțios pentru redirectare.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Într-o forma mai simplă puteți găsi două proiecte similare pe <a href="https://spring.io/guides">Spring Guides</a>:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://spring.io/guides/gs/handling-form-submission/">Handling Form Submission</a></p>
</li>
<li>
<p><a href="https://spring.io/guides/gs/validating-form-input/">Validating Form Input</a></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Vom considera un exemplu simplu de controler utilizând Spring Boot:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Controller
public class GreetingController {

  @GetMapping("/greeting")
  public String greeting(Model model) {
    model.addAttribute("name", "World");
	return "greeting";
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Vom crea fișierul <strong>greeting.mustache</strong> în <strong>resources/templates</strong> cu următorul conținut:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="html" class="language-html hljs">Hello, {{name}}!</code></pre>
</div>
</div>
<div class="paragraph">
<p>În caz că nu se dorește utilizarea extensiei .mustcahe ci .html, se poate de adăugat următoarea proprietate în <strong>application.properies</strong>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="properties" class="language-properties hljs">spring.mustache.suffix=.html</code></pre>
</div>
</div>
<div class="paragraph">
<p>Iar în final vom adăuga dependința pentru procesorul de șabloane <a href="https://mustache.github.io/">Mustache</a> în <strong>pom.xml</strong> (în secțiunea dependencies):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="xml" class="language-xml hljs">&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-mustache&lt;/artifactId&gt;
&lt;/dependency&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Dacă vom face <em>build</em> și vom lansa aplicația vom observa rezultatul scontat.</p>
</div>
<div class="paragraph">
<p>Modificăm exemplul pentru a arăta cum pot fi afișate tablourile:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Controller
public class GreetingController {

  @GetMapping("/greeting")
  public String greeting(Model model) {
    List&lt;String&gt; names = new ArrayList&lt;&gt;();
    names.add("World!");
	names.add("Universe!");
    model.addAttribute("names", names);
	return "greeting";
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>și șablonul:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="html" class="language-html hljs">Hello:
&lt;ul&gt;
{{#names}}
  &lt;li&gt;{{.}}&lt;/li&gt;
{{/names}}
&lt;/ul&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pentru mai multe amănunte privind sintaxa limbajului Mustache, vezi <a href="https://mustache.github.io/mustache.5.html">Mustache Manual (5)</a> și <a href="https://mustache.github.io/mustache.1.html">Mustache Manual (1)</a>.
Mai mult, pe <a href="https://mustache.github.io/#demo" class="bare">https://mustache.github.io/#demo</a> poți chair experimenta.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-5-spring-data"><a class="anchor" href="#truecurs-5-spring-data"></a>Curs 5: Spring Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vom considera proiectul <a href="https://github.com/spring-projects/spring-petclinic">Spring PetClinic Sample Application</a> - o aplicație pentru clinica veterinară.
Este un proiect Spring Boot respectiv pentru a-l rula, în IntelliJ IDEA Community, e nevoie de trei pași: <strong>(i) <em>build</em>, (ii) creare configurare de rulare și (iii) pornirea prorpiu-zisă</strong>.
Aplicația va fi disponibilă la adresa <a href="http://localhost:8080" class="bare">http://localhost:8080</a> și va afișa câteva legături.
Pentru a afișa proprietarii animalelor (en. <em>owner</em>) clic pe legătura <strong>Find owners</strong> din stânga-sus și apoi clic pe legătur <strong>Add Owner</strong> amplasată puțin mai jos.
Completează formularul și clic pe butonul <strong>Add Owner</strong>.
Înregistrarea a fost stocată în baza de date.
Pentru a vizualiza înregistrarea introdusă, clic pe <strong>Find owners</strong>, lasă câmpul <strong>Last name</strong> gol și clic pe butonul <strong>Find Owner</strong>.
Vor fi afișați toți proprietarii de animale care și-au tratat vreodată animalele de companie la clinică, ultimul în listă va fi proprietarul nou introdus.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Înregistrarea nouă va fi ștersă la repornirea aplicației.
Aceasta se datorează comenzilor <code>DROP TABLE</code> din fișierului <code>db/h2/schema.sql</code>.
Grație fișierul <code>db/h2/schema.sql</code> la pornirea aplicației baza de date se goloște și se umple cu un set predefinit de tabele.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Pentru comportamentul ce ține de pregătirera bazei de date la fiecare rulare a aplicației sunt responsabile următoarele proprietăți din <code>resources/application.properties</code>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.datasource.schema=&lt;cale fisier sql&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică calea spre fișierul cu comezi DDL utilizat pentru crearea structurii bazei de date la momentul pornirii aplicației.
Pentru mai multe amănunte, vezi <a href="https://docs.spring.io/spring-boot/docs/2.4.x/reference/html/appendix-application-properties.html#spring.datasource.schema">spring.datasource.schema</a>.
Este o proprietate învechită, se recomandă înlocuirea cu
<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.data-migration.spring.sql.init.schema-locations">spring.sql.init.schema-locations</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.datasource.data</code>=&lt;cale fisier sql&gt;</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică calea spre fișierul cu comezi DML utilizat pentru crearea conținutului tabelelor la momentul pornirii aplicației.
Pentru mai multe amănunte, vezi <a href="https://docs.spring.io/spring-boot/docs/2.4.x/reference/html/appendix-application-properties.html#spring.datasource.data#spring.datasource.schema">spring.datasource.schema</a>.
Este o proprietate învechită, se recomandă înlocuirea cu
<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#application-properties.data-migration.spring.sql.init.data-locations">spring.sql.init.data-locations</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">&lt;proprietate2&gt;=<code>${&lt;proprietate1&gt;}</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Referirea valorii unei proprietăți în cadrul valorii altei proprietăți.
Utilizând <code>${&lt;nume proprietate&gt;}</code> în valoarea unei propeietăți, Spring va înlocui <code>${&lt;nume proprietate&gt;}</code> ca valoarea acelei proprietăți.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>classpath*:&lt;cale fisier&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Localizează toate fișierele care corespund la &lt;calea fisier&gt;. În particular, <code>classpath:&lt;cale fisier&gt;</code> localizează primul fișier găsit.
Pentru a înțelege mai bine sistemul de fișiere accesibil prin <code>classpath</code> putem face analogie cu variabila de system <code>PATH</code>.
Aceasta variabilă conține o listă de dosare și în diferite dosare poate exista același fișier. Cu alte cuvinte în Java sub noțiunea <code>classpath</code>
sunt montate mai multe, un set de dosare.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.jpa.hibernate.ddl-auto</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică modul în care schema bazei de date va fi generată pe baza JPA și Hibernate.
Pentru mai multe amănunte, vezi <a href="https://vladmihalcea.com/hibernate-hbm2ddl-auto-schema/">Hibernate hbm2ddl.auto schema generation</a>.
În particular, în <strong>spring-petclinic</strong> această proprietate are valaorea <code>none</code>, ceea ce înseamnă că nu este activă.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Sumarizând cele de mai sus, pentru a nu pierde înregistrările noi introduse o dată cu repornirea aplicației recomand comentarea celor două proprietăți din <code>application.properties</code>,
responsabile de fișierele cu comenzile DLL și DML, după prima rulare a aplicației.</p>
</div>
<div class="paragraph">
<p>Alte fragmente remarcabile din fișierul <code>application.properties</code>:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.thymeleaf.mode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică modul de procesare a șabloanelor de către Thymeleaf. Valorile posibile sunt: HTML, XML, TEXT, JAVASCRIPT, CSS și RAW.
Cu alte cuvinte, Thymeleaf nu doar înlocuiește variabilele într-un șablon. El mai poate verifica validitatea acestuia după înlocuiere, per ansamblu.
De exemplu, dacă folosim valoarea XML, atunci putem genera fișiere XML pe baza unor șabloane și în plus aceste XML-uri vor fi valide.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.jpa.open-in-view</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activează sau nu pattern-ul OSIV (Open Session In View). Dacă îl punem pe <code>true</code>, atunci pentru orice cerere HTTP, Spring va deschide
o sesiune Hibernate și o va ține deschisă pe tot parcusul cererii, respectiv dacă citim o entitate care e legată de alte entități și
încercăm să citim acele entități în afara unei tranzacții nu vom avea LazyInitializationException.
Pentru mai multe amănunte, vezi <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/orm/hibernate5/support/OpenSessionInViewInterceptor.html">OpenSessionInViewInterceptor</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.messages.basename</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lista de dosare (despărțite prin virgulă) unde sunt stocate așa numitele <em>resource boundles</em> (seturi de resurse, de exemplu fișiere de mesaje pentru diferite limbi).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>management.endpoints.web.exposure.include</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Proprietate de la actuator despre care vom vorbi în viitor.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>logging.level.org.springframework</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nivelul pentru jurnal.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>spring.resources.cache.cachecontrol.max-age</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifică valoarea pentru antetul de răspuns <strong>Cache-Control</strong>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Următoarele fragmente de cod ce țin de maparea claselor și tabelelor sunt remarcabile:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Entity</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marchează clasa ca fiind o entiate, cu alte cuvinte mapează clasa cu o tabelă din baza de date.
Dacaă lipsește adnotarea <code>@Table</code>, atunci clasa este mapată cu o tabelă a cărei nume coincide cu numele clasei.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Table(name = "&lt;nume tabela&gt;")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează clasa cu o tabela &lt;nume tabela&gt; din baza de date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Column(name = "address")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mapează câmpul clasei cu coloana &lt;nume coloana&gt;.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@OneToMany(cascade = CascadeType.ALL, mappedBy = "owner")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marchează câmpul ca fiind parte a unei relații de tipul unu la mai mulți.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@ManyToOne</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marchează câmpul ca fiind parte a unei relații de tipul mai mulți la unu.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@JoinColumn(name = "&lt;nume coloana&gt;")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indică numele coloanei care este cheie străină pentru o relație de tip <code>@ManyToOne</code> sau <code>@ManyToMany</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Transient</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indică ca câmpul să nu fie stocat/citit în/din baza de date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Repository&lt;Owner, Integer&gt;</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Repository</em> (ro. <em>depozit</em>) este o interfață care trebuie extinsă/implementată de interfețele/clasele care vor oferi acces de stocare/citire pentru entități din/în baza de date.
Depozitele sunt obiectele prin care sotcam/citim entitățile din baza de date.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Query("SELECT DISTINCT owner FROM Owner owner left join fetch owner.pets WHERE owner.lastName LIKE :lastName%")</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indică interogarea JPQL folosită pentru a scoate entități când este apelată o metodă din depozit.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>findByLastName(@Param("lastName") String lastName)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Prin <code>@Param</code> se mapează parametrii metodei din depozit la parametrii din interogare.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Transactional(readOnly = true)</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Marchează că metoda se executa în cadrul unei tranzacții.
Tranzacțiile sunt necesare atunci când scriem în baza de date sau accesăm câmpurile care reprezintă relații unul la mai mulți sau mai mulți la mai mulți.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Sumarizând cele de mai sus, clasa care este mapată la un tabel trebuie adnotată cu <code>javax.persistence.Entity</code>. Astfel de clase le numim entitați.
Un biect de tipul acestei clase va fi mapat la o înregistrare din tabel.
În mod implicit, numele tabelului corespunde numelui clasei, în caz de excepție putem folosi <code>@Table(name = &lt;nume tabel&gt;)</code> pentru a specifica numele tabelului explicit.
La fel și pentru câmpurile claselor, numele acestora corespund coloanelor, în caz că vrem explicit, <code>@Column(name = &lt;nume coloana&gt;)</code>.
Definiția mai formală a unei entități ar fi: <strong>orice clasa adnotată cu @Entity care are o cheie primară (câmp adnotat cu <code>@Id</code>) și un constructor implicit fără paramteri (en. <em>non-arg constructor</em>)</strong>.</p>
</div>
<div class="paragraph">
<p>Depozitele sunt obiecte centrale în accesul la baza de date, pentru mai mult amănunte privinte depozitele, vezi
<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.sql.jpa-and-spring-data.repositories">Spring Data JPA Repositories</a>.</p>
</div>
<div class="paragraph">
<p>Exerciții:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>[HARD] Modifică comenzile SQL din fișierele dosarului <code>db/h2/</code> astfel încât să nu pieredem nile înregistrări la fiecare pornire a aplicației (vezi <code>CREATE TABLE IF NOT EXISTS</code>).</p>
</li>
<li>
<p>În secțiunea <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-basic-sql-scripts">9.3. Initialize a Database Using Basic SQL Scripts</a>
din <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/index.html">Spring Boot Reference Documentation</a> sunt descrise alterntive de amplasare ale fișierelor SQL
pentru intițializarea bazei de date.
Înlocuiește utilizarea proprietăților <code>spring.datasource.schema</code> și <code>spring.datasource.data</code> din <strong>spring-petclinic</strong> cu una din aceste alternative pentru a inițializa baza de date.</p>
</li>
<li>
<p>Configurează <strong>pet-clinic</strong> astfel încât structura bazei de date să fie inițializată nu din fișiere SQL ci din clasele entităților (vezi
<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-jpa">9.1. Initialize a Database Using JPA</a> și
<a href="https://docs.spring.io/spring-boot/docs/current/reference/html/howto.html#howto.data-initialization.using-hibernate">9.2. Initialize a Database Using Hibernate</a>).</p>
</li>
<li>
<p>[HARD] Adaugă configurare în <strong>pet-clinic</strong> pentru a putea stoca datele în SQLite.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-6-spring-data"><a class="anchor" href="#truecurs-6-spring-data"></a>Curs 6: Spring Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vom considera proiectul <a href="https://spring.io/guides/gs/accessing-data-jpa/">Accessing Data with JPA</a>.
Așa cum spus la lecția precedentă, depozitele sunt obiecte centrale în accesul la baza de date.
Pentru a putea gestiona datele din tabelul la care e mapată o entitate avem nevoie de un depozit pentru acea entitate.
Varianta minimală a unui depozit lucrativ este o interfață care extinde interfața <code>Repository</code> (din <code>org.springframework.data.repository</code>) sau una dintre derivatele acesteia: <code>CrudRepository</code> și <code>PagingAndSortingRepository</code>.
Această interfață nu trebuie adnotată, ea va fi detectată de către Spring IoC container și ințializată ca bean.
Cel mai important e să ne familiarizăm cu regulile de a scrie denumirele metodelor din depozit, astfel încât Spring să poată genera interogările corespunzătoare.
Iar aceste reguli presupun combinarea de:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.subject">cuvinte cheie pentru interogare</a> (en. <em>query subject keywords</em>)</p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.predicate">cuvinte cheie pentru predicate</a> (en. <em>query predicate keywords</em>)</p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#appendix.query.method.predicate">cuvinte cheie pentru modificatori de predicate</a> (en. <em>query predicate modifier keywords</em>)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Mia mult amănunte privind capbilitățile oferite de depozite:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Stocare, <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-persistence"><code>CrudRepository.save()</code></a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.sample-app.finders.strategies">Modelarea interogărilor prin numele metodei</a>.</p>
</li>
<li>
<p>Interogări speciale folosind adnotarea <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query"><code>@Query</code></a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query.native">Interogări native</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.sorting">Specificarea sortării prin numele metodei</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries">Interogări de modificare și ștergere</a></p>
</li>
<li>
<p>Adnotarea <a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-hints"><code>@QueryHint</code></a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.entity-graph">Grafuri de entitați</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#projections">Proiecții</a></p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-7-teste"><a class="anchor" href="#truecurs-7-teste"></a>Curs 7: Teste</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Teste unitare. Biblioteca Mockito.</p>
</div>
<div class="paragraph">
<p>Vom considera proiectul <a href="https://spring.io/guides/gs/testing-web/">Testing the Web Layer</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-8-bean-uri"><a class="anchor" href="#truecurs-8-bean-uri"></a>Curs 8: Bean-uri</h2>
<div class="sectionbody">
<div class="paragraph">
<p>În mod implicit containerul creeaza și configurează toate bean-urile singleton.
În așa fel dacă sunt eori vom ști de ele la intializare. Îm unele cazuri însă această abordare nu este recomandată.
În așa caz am putea să ne folosim de <code>lazy-init</code>.</p>
</div>
<div class="paragraph">
<p>Un exemplu cu Lazy-initialized.</p>
</div>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lazy-init" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lazy-init</a></p>
</div>
<div class="paragraph">
<p>În situații când un singleton are dependințe prototype modalitatea obișnuită de definiție nu e potrivită.
Deorece beanu-rile ptototype vor fi create și injectate în singleton la initializarea singleton-unul, noi însă am dori să fie create la fiecare accesare.
Solutția naivă ar fi să injectăm contextul aplicației în singleton și să apelăm <code>getBean</code> de fiecare data (<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-method-injection" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-method-injection</a>).
Nu e recomandat. Avem cuplare strânsă în așa caz (un adaos la responsbilități).
În așa caz ne vine în ajutor injecția de metodă (en. <em>method injection</em>). Injecția de metodă indică Spring-ului că o anumită metodă din singleton care citește prototype este legată de bean-ul prototype.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Component
@Scope("prototype")
public class PrototypeBean {
  // ...
}</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code data-lang="java" class="language-java hljs">@Service
public class SomeServices {

    @Lookup
    public PrototypeBean getPrototypeBean() {
        return null;
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Exemplul de mai sus arată că putem modifica corpul unei metode. Așa e, Spring poate să injecteze nu doar dependințele, dar și metodele.
Injectare de metode: <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-method-injection" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-method-injection</a></p>
</div>
<div class="paragraph">
<p>Care cilcul de viață a unui bean? Putem accesa unele evenimente din ciculul e viață a unui bean:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>@PostConstruct, @PreDestroy.</p>
</li>
<li>
<p><code>InitializingBean</code> și <code>void afterPropertiesSet() throws Exception;</code></p>
</li>
<li>
<p><code>DisposableBean</code> și <code>void destroy() throws Exception;</code></p>
</li>
<li>
<p>sau simplu prin utilizarea unor metode cu anumite nume, fără a inmplementa interfețe speciale: <code>init()</code>, <code>initialize()</code>, <code>dispose()</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>În plus avem posibilitatea să detectăm când se pornește și respectiv se oprește containerul: <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lifecycle-processor" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-lifecycle-processor</a>.</p>
</div>
<div class="paragraph">
<p>Alte interfețe de tip <code>Aware</code>: <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aware-list" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#aware-list</a>.</p>
</div>
<div class="paragraph">
<p>Implementare de factory bean: <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-extension-factorybean" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-extension-factorybean</a>.</p>
</div>
<div class="paragraph">
<p>Profile ale bean-urilor: <code>@Profile</code>, <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-definition-profiles" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-definition-profiles</a>.</p>
</div>
<div class="paragraph">
<p><code>depends-on</code>
<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-dependson" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-factory-dependson</a></p>
</div>
<div class="paragraph">
<p>După disucția despre bean ciclu de viață vom discuta și despre evenimente în aplicație
<a href="https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#context-functionality-events" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#context-functionality-events</a></p>
</div>
<div class="paragraph">
<p>Posibil de discutat despre proxy?
<a href="https://ntsim.uk/posts/a-closer-look-at-spring-proxies" class="bare">https://ntsim.uk/posts/a-closer-look-at-spring-proxies</a>
<a href="https://stackoverflow.com/questions/61964811/is-a-proxy-created-for-each-bean-in-spring" class="bare">https://stackoverflow.com/questions/61964811/is-a-proxy-created-for-each-bean-in-spring</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-9-spring-mvc"><a class="anchor" href="#truecurs-9-spring-mvc"></a>Curs 9: Spring MVC</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Mai multe detalii despre servlet.</p>
</div>
<div class="paragraph">
<p>Vom considera din nou proiectul <a href="https://github.com/spring-projects/spring-mvc-showcase">Spring MVC Showcase</a>, în particular exemplele din pachetul <code>org.springframework.samples.mvc.async</code>.</p>
</div>
<div class="paragraph">
<p>Pentru clasele din <code>org.springframework.samples.mvc.async</code> sunt remarcabile următoarele fragmente de cod:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 66.6667%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Fragment de cod</th>
<th class="tableblock halign-left valign-top">Descriere</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Callable&lt;T&gt;</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new Callable&lt;T&gt;() { /* &#8230;&#8203; */ }</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Crearea de clasă anonimă care implemntează <code>Callable</code>. Întrucât <code>Callable</code> este interfață nu e posibil de creat un obiect de tip <code>Callable</code> în mod explicit.
Trebuie de creat o clasă care implementează <code>Callable</code>, iar apoi un exemplar al acestei clase. Clasele anonime este o soluție rapidă pentru astfel de cazuri.
Pentru mai multe amănunte privind clasele anonime, vezi <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html">Anonymous Classes</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>Thread.sleep(2000)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>() &#8594; { /* &#8230;&#8203; */ }</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lamda expresie. Alternativa pentru clasele anonime începând cu JDK 1.8.
Pentru mai multe amănunte privitor la lamda expresii, vezi <a href="https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html">Lambda Expressions</a>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>WebAsyncTask&lt;T&gt;</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@ExceptionHandler</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>CallableProcessingInterceptorAdapter</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">configurat în <code>org.springframework.samples.mvc.config.WebMvcConfig.configureAsyncSupport(AsyncSupportConfigurer)</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DeferredResult&lt;T&gt;</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DeferredResult&lt;T&gt; &lt;metoda controler&gt;()</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>new DeferredResult&lt;&gt;(&lt;limita de timp&gt;, &lt;valaore implicita in caz de expirare a timpului&gt;)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@Scheduled(fixedRate = &lt;perioada de timp intre apeluri&gt;)</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DeferredResult.setResult(&lt;rezultat&gt;);</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>DeferredResult.setErrorResult(new IllegalStateException("&lt;mesaj de eroare&gt;"));</code></p></td>
<td class="tableblock halign-left valign-top"></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>NOTĂ: pentru <code>DeferredResult</code> este foarte informativ să vedem în tab-ul Netweok de la navigator ce se întâmplă ca atare.</p>
</div>
<div class="paragraph">
<p>În caz că este timp am putea discuta puțin despre lamda expresii și fluxuri.</p>
</div>
<div class="paragraph">
<p>VOm considera proiectul <a href="https://spring.io/guides/gs/async-method/">Creating Asynchronous Methods</a>.</p>
</div>
<div class="paragraph">
<p>Exerciții:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>[HARD] Simulare de sarcină care durează mult pe server cu afișarea progesului în navigator.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-10-spring-mvc"><a class="anchor" href="#truecurs-10-spring-mvc"></a>Curs 10: Spring MVC</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vom considera proiectul <a href="https://spring.io/guides/gs/messaging-stomp-websocket/">Using WebSocket to build an interactive web application</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-11-spring-mvc"><a class="anchor" href="#truecurs-11-spring-mvc"></a>Curs 11: Spring MVC</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vom considera din nou proiectul <a href="https://github.com/spring-projects/spring-mvc-showcase">Spring MVC Showcase</a>, în particular exemplele din pachetul <code>org.springframework.samples.mvc.convert</code>.</p>
</div>
<div class="paragraph">
<p>Am putea crea un custom <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#rest-message-conversion" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#rest-message-conversion</a>, de exemplu pentru CSV.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-12-spring-data"><a class="anchor" href="#truecurs-12-spring-data"></a>Curs 12: Spring Data</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vom considera proiectul <a href="https://spring.io/guides/gs/managing-transactions/">Managing Transactions</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-13-spring-security"><a class="anchor" href="#truecurs-13-spring-security"></a>Curs 13: Spring Security</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Vom considera din nou proiectul <a href="https://github.com/spring-projects/spring-security-samples">Spring Security Sample</a>, în particular
<strong>main/servlet/spring-boot/java/hello-security</strong>.</p>
</div>
<div class="paragraph">
<p>La fel <a href="https://spring.io/guides/gs/securing-web/">Securing a Web Application</a>.</p>
</div>
<div class="paragraph">
<p>Vom considera tutorialul <a href="https://spring.io/guides/topicals/spring-security-architecture/">Spring Security Architecture</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-14-rest"><a class="anchor" href="#truecurs-14-rest"></a>Curs 14: REST</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Apeluri REST folosind <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/web-reactive.html#webflux-client</a>.</p>
</div>
<div class="paragraph">
<p>Detalii la serializarea în JSON (serializare de subarbore, format data).</p>
</div>
<div class="paragraph">
<p>Vom considera proiectul <a href="https://spring.io/guides/tutorials/metrics-and-tracing/">Metrics and Tracing with Spring</a>.</p>
</div>
<div class="paragraph">
<p>Vom considera proiectul <a href="https://spring.io/guides/gs/testing-restdocs/">Creating API Documentation with Restdocs</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="truecurs-15-scheduling-caching"><a class="anchor" href="#truecurs-15-scheduling-caching"></a>Curs 15: Scheduling, Caching</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Clasa <a href="https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#scheduling"><code>TaskExecutor</code></a>.</p>
</div>
<div class="paragraph">
<p>Vom considera proiectul <a href="https://spring.io/guides/gs/scheduling-tasks/">Scheduling Tasks</a>.</p>
</div>
<div class="paragraph">
<p><a href="https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache" class="bare">https://docs.spring.io/spring-framework/docs/current/reference/html/integration.html#cache</a></p>
</div>
<div class="paragraph">
<p>Vom considera proiectul <a href="https://spring.io/guides/gs/caching/">Caching Data with Spring</a>.</p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnotedef_1">
<a href="#_footnoteref_1">1</a>. <a href="https://www.researchgate.net/publication/2861532_Ubiquitous_Web_Application_Development_-_A_Framework_for_Understanding" class="bare">https://www.researchgate.net/publication/2861532_Ubiquitous_Web_Application_Development_-_A_Framework_for_Understanding</a>
</div>
<div class="footnote" id="_footnotedef_2">
<a href="#_footnoteref_2">2</a>. <a href="https://www.amazon.com/Java-Servlet-Programming-Server-Developers/dp/0596000405" class="bare">https://www.amazon.com/Java-Servlet-Programming-Server-Developers/dp/0596000405</a>
</div>
<div class="footnote" id="_footnotedef_3">
<a href="#_footnoteref_3">3</a>. <a href="https://www.amazon.com/Designing-Enterprise-Applications-J2EE%C2%BF-Platform/dp/0201787903" class="bare">https://www.amazon.com/Designing-Enterprise-Applications-J2EE%C2%BF-Platform/dp/0201787903</a>
</div>
<div class="footnote" id="_footnotedef_4">
<a href="#_footnoteref_4">4</a>. <a href="https://www.researchgate.net/publication/221501755_The_Early_History_of_Smalltalk" class="bare">https://www.researchgate.net/publication/221501755_The_Early_History_of_Smalltalk</a>
</div>
<div class="footnote" id="_footnotedef_5">
<a href="#_footnoteref_5">5</a>. <a href="http://worrydream.com/EarlyHistoryOfSmalltalk/" class="bare">http://worrydream.com/EarlyHistoryOfSmalltalk/</a>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 1.0<br>
Last updated 2021-09-23 20:26:02 +0300
</div>
</div>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js"></script>
<script>hljs.initHighlighting()</script>
</body>
</html>